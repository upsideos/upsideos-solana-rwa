/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  isProgramError,
  type Address,
  type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,
  type SolanaError,
} from '@solana/kit';
import { DIVIDENDS_PROGRAM_ADDRESS } from '../programs';

/** InvalidProof: Invalid Merkle proof */
export const DIVIDENDS_ERROR__INVALID_PROOF = 0x1770; // 6000
/** DropAlreadyClaimed: Drop already claimed */
export const DIVIDENDS_ERROR__DROP_ALREADY_CLAIMED = 0x1771; // 6001
/** ExceededMaxClaim: Exceeded maximum claim amount */
export const DIVIDENDS_ERROR__EXCEEDED_MAX_CLAIM = 0x1772; // 6002
/** ExceededNumNodes: Exceeded maximum number of claimed nodes */
export const DIVIDENDS_ERROR__EXCEEDED_NUM_NODES = 0x1773; // 6003
/** Unauthorized: Account is not authorized to execute this instruction */
export const DIVIDENDS_ERROR__UNAUTHORIZED = 0x1774; // 6004
/** OwnerMismatch: Token account owner did not match intended owner */
export const DIVIDENDS_ERROR__OWNER_MISMATCH = 0x1775; // 6005
/** KeysMustNotMatch: Keys must not match */
export const DIVIDENDS_ERROR__KEYS_MUST_NOT_MATCH = 0x1776; // 6006
/** InvalidFundingAmount: Invalid funding amount */
export const DIVIDENDS_ERROR__INVALID_FUNDING_AMOUNT = 0x1777; // 6007
/** DistributionPaused: Distribution is paused */
export const DIVIDENDS_ERROR__DISTRIBUTION_PAUSED = 0x1778; // 6008
/** DistributorNotReadyToClaim: Distributor is not ready to claim */
export const DIVIDENDS_ERROR__DISTRIBUTOR_NOT_READY_TO_CLAIM = 0x1779; // 6009
/** InvalidIPFSHashSize: Invalid IPFS hash size */
export const DIVIDENDS_ERROR__INVALID_I_P_F_S_HASH_SIZE = 0x177a; // 6010
/** ValueUnchanged: The provided value is already set. No changes were made */
export const DIVIDENDS_ERROR__VALUE_UNCHANGED = 0x177b; // 6011
/** TransferFeeIsNotAllowedForPaymentMint: Transfer fee is not allowed for payment mint */
export const DIVIDENDS_ERROR__TRANSFER_FEE_IS_NOT_ALLOWED_FOR_PAYMENT_MINT = 0x177c; // 6012
/** TotalAmountClaimedOverflow: Total amount claimed overflow */
export const DIVIDENDS_ERROR__TOTAL_AMOUNT_CLAIMED_OVERFLOW = 0x177d; // 6013
/** NumNodesClaimedOverflow: Number of nodes claimed overflow */
export const DIVIDENDS_ERROR__NUM_NODES_CLAIMED_OVERFLOW = 0x177e; // 6014
/** NoPendingOwnershipTransfer: No pending ownership transfer */
export const DIVIDENDS_ERROR__NO_PENDING_OWNERSHIP_TRANSFER = 0x177f; // 6015
/** UnauthorizedOwnershipTransfer: Unauthorized ownership transfer */
export const DIVIDENDS_ERROR__UNAUTHORIZED_OWNERSHIP_TRANSFER = 0x1780; // 6016

export type DividendsError =
  | typeof DIVIDENDS_ERROR__DISTRIBUTION_PAUSED
  | typeof DIVIDENDS_ERROR__DISTRIBUTOR_NOT_READY_TO_CLAIM
  | typeof DIVIDENDS_ERROR__DROP_ALREADY_CLAIMED
  | typeof DIVIDENDS_ERROR__EXCEEDED_MAX_CLAIM
  | typeof DIVIDENDS_ERROR__EXCEEDED_NUM_NODES
  | typeof DIVIDENDS_ERROR__INVALID_FUNDING_AMOUNT
  | typeof DIVIDENDS_ERROR__INVALID_I_P_F_S_HASH_SIZE
  | typeof DIVIDENDS_ERROR__INVALID_PROOF
  | typeof DIVIDENDS_ERROR__KEYS_MUST_NOT_MATCH
  | typeof DIVIDENDS_ERROR__NO_PENDING_OWNERSHIP_TRANSFER
  | typeof DIVIDENDS_ERROR__NUM_NODES_CLAIMED_OVERFLOW
  | typeof DIVIDENDS_ERROR__OWNER_MISMATCH
  | typeof DIVIDENDS_ERROR__TOTAL_AMOUNT_CLAIMED_OVERFLOW
  | typeof DIVIDENDS_ERROR__TRANSFER_FEE_IS_NOT_ALLOWED_FOR_PAYMENT_MINT
  | typeof DIVIDENDS_ERROR__UNAUTHORIZED
  | typeof DIVIDENDS_ERROR__UNAUTHORIZED_OWNERSHIP_TRANSFER
  | typeof DIVIDENDS_ERROR__VALUE_UNCHANGED;

let dividendsErrorMessages: Record<DividendsError, string> | undefined;
if (process.env.NODE_ENV !== 'production') {
  dividendsErrorMessages = {
    [DIVIDENDS_ERROR__DISTRIBUTION_PAUSED]: `Distribution is paused`,
    [DIVIDENDS_ERROR__DISTRIBUTOR_NOT_READY_TO_CLAIM]: `Distributor is not ready to claim`,
    [DIVIDENDS_ERROR__DROP_ALREADY_CLAIMED]: `Drop already claimed`,
    [DIVIDENDS_ERROR__EXCEEDED_MAX_CLAIM]: `Exceeded maximum claim amount`,
    [DIVIDENDS_ERROR__EXCEEDED_NUM_NODES]: `Exceeded maximum number of claimed nodes`,
    [DIVIDENDS_ERROR__INVALID_FUNDING_AMOUNT]: `Invalid funding amount`,
    [DIVIDENDS_ERROR__INVALID_I_P_F_S_HASH_SIZE]: `Invalid IPFS hash size`,
    [DIVIDENDS_ERROR__INVALID_PROOF]: `Invalid Merkle proof`,
    [DIVIDENDS_ERROR__KEYS_MUST_NOT_MATCH]: `Keys must not match`,
    [DIVIDENDS_ERROR__NO_PENDING_OWNERSHIP_TRANSFER]: `No pending ownership transfer`,
    [DIVIDENDS_ERROR__NUM_NODES_CLAIMED_OVERFLOW]: `Number of nodes claimed overflow`,
    [DIVIDENDS_ERROR__OWNER_MISMATCH]: `Token account owner did not match intended owner`,
    [DIVIDENDS_ERROR__TOTAL_AMOUNT_CLAIMED_OVERFLOW]: `Total amount claimed overflow`,
    [DIVIDENDS_ERROR__TRANSFER_FEE_IS_NOT_ALLOWED_FOR_PAYMENT_MINT]: `Transfer fee is not allowed for payment mint`,
    [DIVIDENDS_ERROR__UNAUTHORIZED]: `Account is not authorized to execute this instruction`,
    [DIVIDENDS_ERROR__UNAUTHORIZED_OWNERSHIP_TRANSFER]: `Unauthorized ownership transfer`,
    [DIVIDENDS_ERROR__VALUE_UNCHANGED]: `The provided value is already set. No changes were made`,
  };
}

export function getDividendsErrorMessage(code: DividendsError): string {
  if (process.env.NODE_ENV !== 'production') {
    return (dividendsErrorMessages as Record<DividendsError, string>)[code];
  }

  return 'Error message not available in production bundles.';
}

export function isDividendsError<TProgramErrorCode extends DividendsError>(
  error: unknown,
  transactionMessage: {
    instructions: Record<number, { programAddress: Address }>;
  },
  code?: TProgramErrorCode
): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &
  Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {
  return isProgramError<TProgramErrorCode>(
    error,
    transactionMessage,
    DIVIDENDS_PROGRAM_ADDRESS,
    code
  );
}
